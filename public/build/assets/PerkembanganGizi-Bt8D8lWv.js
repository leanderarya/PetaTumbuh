import{r as i,m as x,j as e,L as f}from"./app-BaEcjtBQ.js";import{A as k}from"./app-layout-DuawjPpP.js";import{L as j}from"./leaflet-LLmP1EOg.js";import{S as o}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{M as v,T as _,a as w}from"./TileLayer--3NYIkxV.js";/* empty css            */import"./button-BXIJ11iY.js";import"./index-KejPSzJG.js";import"./index-D5rgsBRG.js";import"./x-DpW2MjHE.js";import"./createLucideIcon-DnJViNrn.js";import"./app-logo-icon-ByzFDwGv.js";const y=[{title:"Dashboard",href:"/dashboard"},{title:"Perkembangan Gizi",href:"/perkembangangizi"}],N=new j.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});function M(d){const{children:n}=d,[t,m]=i.useState(null),[c,u]=i.useState([-7.0794952,111.1942139]),{data:s,setData:r,post:g,processing:l}=x({anak_id:"",berat_badan:"",tinggi_badan:"",status_gizi:"",catatan:"",tanggal_pemeriksaan:"",latitude:"",longitude:""});i.useEffect(()=>{t&&t.latitude&&t.longitude&&(r("latitude",t.latitude),r("longitude",t.longitude),u([parseFloat(t.latitude),parseFloat(t.longitude)]))},[t,r]);const b=a=>{a.preventDefault(),g("/perkembangan-gizi",{onSuccess:()=>{o.fire({title:"Berhasil!",text:"Perkembangan gizi anak berhasil diperbarui.",icon:"success",timer:2e3,showConfirmButton:!1})},onError:()=>{o.fire({title:"Error!",text:"Terjadi kesalahan saat memperbarui data.",icon:"error",showConfirmButton:!0})}})};return e.jsxs(k,{breadcrumbs:y,children:[e.jsx(f,{title:"Perkembangan Gizi Anak"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto p-4",children:[e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 gap-6 rounded-xl border border-gray-200 bg-white p-6 shadow md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"anak_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Anak"}),e.jsxs("select",{id:"anak_id",value:s.anak_id,onChange:a=>{const h=n.find(p=>p.id.toString()===a.target.value);m(h||null),r("anak_id",a.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Pilih Anak"}),n.map(a=>e.jsxs("option",{value:a.id,children:[a.nama," - ",a.desa]},a.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"berat_badan",className:"block text-sm font-medium text-gray-700",children:"Berat Badan (kg)"}),e.jsx("input",{type:"number",id:"berat_badan",value:s.berat_badan,onChange:a=>r("berat_badan",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tinggi_badan",className:"block text-sm font-medium text-gray-700",children:"Tinggi Badan (cm)"}),e.jsx("input",{type:"number",id:"tinggi_badan",value:s.tinggi_badan,onChange:a=>r("tinggi_badan",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status_gizi",className:"block text-sm font-medium text-gray-700",children:"Status Gizi"}),e.jsx("input",{type:"text",id:"status_gizi",value:s.status_gizi,onChange:a=>r("status_gizi",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tanggal_pemeriksaan",className:"block text-sm font-medium text-gray-700",children:"Tanggal Pemeriksaan"}),e.jsx("input",{type:"date",id:"tanggal_pemeriksaan",value:s.tanggal_pemeriksaan,onChange:a=>r("tanggal_pemeriksaan",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"catatan",className:"block text-sm font-medium text-gray-700",children:"Catatan"}),e.jsx("textarea",{id:"catatan",value:s.catatan,onChange:a=>r("catatan",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:l,className:"rounded-md bg-blue-600 px-6 py-2 font-semibold text-white transition hover:bg-blue-700",children:l?"Mengirim...":"Simpan Perkembangan Gizi"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-800",children:"üìç Lokasi Anak di Peta"}),e.jsxs(v,{center:c,zoom:15,scrollWheelZoom:!0,className:"h-[400px] w-full rounded-md",children:[e.jsx(_,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:'Tiles ¬© <a href="https://www.esri.com/en-us/home" target="_blank" rel="noreferrer">Esri</a>'}),t&&t.latitude&&t.longitude&&e.jsx(w,{position:[parseFloat(t.latitude),parseFloat(t.longitude)],icon:N})]})]})]})]})}export{M as default};
